/* ========================================
   CYBER-CHRONOMETER AESTHETIC SYSTEM
   ======================================== */

@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600&family=Playfair+Display:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Custom Properties */
:root {
  --color-void: #0a0a0c;
  --color-obsidian: #121216;
  --color-charcoal: #1a1a20;
  --color-amber: #ff9500;
  --color-amber-glow: #ffb340;
  --color-cyan: #00d4ff;
  --color-cyan-dim: #0088aa;
  --color-white: #f5f5f7;
  --color-gray: #8a8a93;
  --color-gray-dim: #4a4a52;

  --font-mono: 'JetBrains Mono', 'SF Mono', 'Consolas', monospace;
  --font-serif: 'Playfair Display', Georgia, serif;

  --spacing-unit: 8px;
  --border-thin: 1px;
  --border-medium: 2px;

  --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-smooth: 300ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-mechanical: 500ms cubic-bezier(0.2, 0.8, 0.2, 1);
}

/* Base Styles */
@layer base {
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  html,
  body,
  #app {
    width: 100%;
    height: 100dvh;
    overflow: hidden;
  }

  body {
    font-family: var(--font-mono);
    font-size: 13px;
    font-weight: 400;
    line-height: 1.4;
    letter-spacing: 0.01em;
    color: var(--color-gray);
    background: var(--color-void);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    touch-action: none;
  }

  /* Selection styling */
  ::selection {
    background: var(--color-amber);
    color: var(--color-void);
  }
}

/* ========================================
   BACKGROUND LAYERS
   ======================================== */

@layer components {
  .cyber-bg {
    position: relative;
    background: var(--color-void);
    overflow: hidden;
  }

  /* Subtle grid overlay */
  .cyber-bg::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image:
      linear-gradient(var(--color-gray-dim) 1px, transparent 1px),
      linear-gradient(90deg, var(--color-gray-dim) 1px, transparent 1px);
    background-size: 80px 80px;
    background-position: center;
    opacity: 0.03;
    pointer-events: none;
  }

  /* Radial vignette */
  .cyber-bg::after {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(
      ellipse at center,
      transparent 0%,
      transparent 40%,
      rgba(10, 10, 12, 0.8) 100%
    );
    pointer-events: none;
  }
}

/* ========================================
   CALIBRATION RING
   ======================================== */

@layer components {
  .calibration-ring {
    position: absolute;
    top: 50%;
    left: 50%;
    width: min(90vw, 600px);
    height: min(90vw, 600px);
    transform: translate(-50%, -50%);
    pointer-events: none;
    z-index: 5;
  }

  .calibration-ring svg {
    width: 100%;
    height: 100%;
  }

  /* Outer ring - main indicator */
  .cal-ring-outer {
    fill: none;
    stroke: var(--color-gray-dim);
    stroke-width: 1;
    opacity: 0.4;
  }

  /* Inner calibration marks */
  .cal-ring-marks {
    fill: none;
    stroke: var(--color-cyan-dim);
    stroke-width: 0.5;
    opacity: 0.3;
  }

  /* Active sector indicator */
  .cal-sector {
    fill: none;
    stroke: var(--color-amber);
    stroke-width: 2;
    stroke-linecap: round;
    opacity: 0;
    transition: opacity var(--transition-smooth);
  }

  /* Degree markers */
  .cal-degree {
    fill: var(--color-gray-dim);
    font-family: var(--font-mono);
    font-size: 10px;
    opacity: 0.5;
  }

  /* Rotating element */
  .cal-rotator {
    transform-origin: center;
    transition: transform var(--transition-mechanical);
  }
}

/* ========================================
   HUD ELEMENTS
   ======================================== */

@layer components {
  .hud-panel {
    position: absolute;
    padding: 12px 16px;
    background: linear-gradient(
      135deg,
      rgba(26, 26, 32, 0.9) 0%,
      rgba(18, 18, 22, 0.95) 100%
    );
    border: var(--border-thin) solid var(--color-gray-dim);
    backdrop-filter: blur(10px);
    z-index: 10;
    pointer-events: none;
  }

  /* Top left - Title and status */
  .hud-panel--top-left {
    top: 24px;
    left: 24px;
    border-left: 3px solid var(--color-amber);
  }

  /* Top right - Coordinates */
  .hud-panel--top-right {
    top: 24px;
    right: 24px;
    text-align: right;
    border-right: 3px solid var(--color-cyan);
  }

  /* Bottom left - Controls hint */
  .hud-panel--bottom-left {
    bottom: 24px;
    left: 24px;
    border-left: 3px solid var(--color-cyan-dim);
  }

  /* Bottom right - Frame counter */
  .hud-panel--bottom-right {
    bottom: 24px;
    right: 24px;
    text-align: right;
    border-right: 3px solid var(--color-amber);
  }
}

/* ========================================
   TYPOGRAPHY
   ======================================== */

@layer components {
  .hud-title {
    font-family: var(--font-serif);
    font-size: 24px;
    font-weight: 600;
    color: var(--color-white);
    letter-spacing: -0.02em;
    margin-bottom: 4px;
  }

  .hud-subtitle {
    font-size: 11px;
    font-weight: 500;
    color: var(--color-amber);
    text-transform: uppercase;
    letter-spacing: 0.15em;
  }

  .hud-label {
    font-size: 10px;
    font-weight: 500;
    color: var(--color-gray);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    margin-bottom: 2px;
  }

  .hud-value {
    font-size: 14px;
    font-weight: 400;
    color: var(--color-white);
    font-variant-numeric: tabular-nums;
  }

  .hud-value--accent {
    color: var(--color-cyan);
  }

  .hud-value--warn {
    color: var(--color-amber);
  }

  .hud-divider {
    height: 1px;
    background: linear-gradient(
      90deg,
      var(--color-gray-dim) 0%,
      transparent 100%
    );
    margin: 8px 0;
  }

  .hud-divider--right {
    background: linear-gradient(
      90deg,
      transparent 0%,
      var(--color-gray-dim) 100%
    );
  }
}

/* ========================================
   LOADING STATES
   ======================================== */

@layer components {
  .loading-overlay {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(10, 10, 12, 0.9);
    backdrop-filter: blur(20px);
    z-index: 100;
  }

  .loading-indicator {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
  }

  /* Mechanical spinner */
  .loading-spinner {
    width: 48px;
    height: 48px;
    position: relative;
  }

  .loading-spinner::before,
  .loading-spinner::after {
    content: '';
    position: absolute;
    inset: 0;
    border: 2px solid transparent;
    border-radius: 50%;
  }

  .loading-spinner::before {
    border-top-color: var(--color-amber);
    border-right-color: var(--color-amber);
    animation: spin-cw 1s linear infinite;
  }

  .loading-spinner::after {
    border-bottom-color: var(--color-cyan);
    border-left-color: var(--color-cyan);
    animation: spin-ccw 1.5s linear infinite;
  }

  .loading-text {
    font-size: 12px;
    font-weight: 500;
    color: var(--color-gray);
    letter-spacing: 0.15em;
    text-transform: uppercase;
  }

  .loading-text::after {
    content: '';
    animation: loading-dots 1.5s steps(3, end) infinite;
  }
}

/* ========================================
   ANIMATIONS
   ======================================== */

@keyframes spin-cw {
  to {
    transform: rotate(360deg);
  }
}

@keyframes spin-ccw {
  to {
    transform: rotate(-360deg);
  }
}

@keyframes loading-dots {
  0%,
  20% {
    content: '.';
  }
  40% {
    content: '..';
  }
  60%,
  100% {
    content: '...';
  }
}

/* ========================================
   RESPONSIVE
   ======================================== */

@media (max-width: 768px) {
  :root {
    --spacing-unit: 6px;
  }

  .hud-panel {
    padding: 10px 12px;
  }

  .hud-panel--top-left,
  .hud-panel--top-right {
    top: 16px;
  }

  .hud-panel--bottom-left,
  .hud-panel--bottom-right {
    bottom: 16px;
  }

  .hud-title {
    font-size: 18px;
  }

  .hud-value {
    font-size: 12px;
  }
}

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {
  .calibration-ring {
    opacity: 0.6;
  }
}
