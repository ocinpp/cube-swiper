/* ========================================
   SOFT COCKTAIL AESTHETIC SYSTEM
   ======================================== */

@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600&family=DM+Sans:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS Custom Properties */
:root {
  /* Soft cocktail palette - light, muted, elegant */
  --color-cream: #f9f6f1;
  --color-beige: #f0ebe3;
  --color-sand: #e8e1d5;
  --color-rose-pink: #ebd4d4;
  --color-rose-dusty: #d9c0c0;
  --color-watermelon: #e87c7c;
  --color-watermelon-bright: #ff6b6b;
  --color-mint: #b5c9b5;
  --color-mint-muted: #9eb09e;
  --color-text-dark: #1a1a1a;
  --color-text-muted: #4a4a4a;
  --color-text-light: #7a7a7a;

  /* Keep legacy names for compatibility */
  --color-void: #f9f6f1;
  --color-white: #1a1a1a;
  --color-gray: #4a4a4a;
  --color-gray-dim: #7a7a7a;
  --color-amber: #e87c7c;
  --color-cyan: #b5c9b5;

  --font-mono: 'DM Sans', 'Segoe UI', -apple-system, sans-serif;
  --font-serif: 'Playfair Display', Georgia, serif;

  --spacing-unit: 8px;
  --border-thin: 1px;
  --border-medium: 2px;

  --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-smooth: 300ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-mechanical: 500ms cubic-bezier(0.2, 0.8, 0.2, 1);
}

/* Base Styles */
@layer base {
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  html,
  body,
  #app {
    width: 100%;
    height: 100dvh;
    overflow: hidden;
  }

  body {
    font-family: var(--font-mono);
    font-size: 13px;
    font-weight: 400;
    line-height: 1.5;
    letter-spacing: 0.005em;
    color: var(--color-text-muted);
    background: var(--color-cream);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    touch-action: none;
  }

  /* Selection styling */
  ::selection {
    background: var(--color-rose-pink);
    color: var(--color-text-dark);
  }
}

/* ========================================
   BACKGROUND LAYERS
   ======================================== */

@layer components {
  .cyber-bg {
    position: relative;
    background: linear-gradient(
      135deg,
      var(--color-cream) 0%,
      var(--color-beige) 50%,
      var(--color-sand) 100%
    );
    overflow: hidden;
  }

  /* Subtle warmth gradient overlay */
  .cyber-bg::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(
      ellipse at 80% 20%,
      rgba(235, 212, 212, 0.2) 0%,
      transparent 40%
    ),
    radial-gradient(
      ellipse at 20% 80%,
      rgba(181, 201, 181, 0.12) 0%,
      transparent 40%
    );
    pointer-events: none;
  }

  /* Soft edge vignette - light, minimal */
  .cyber-bg::after {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(
      ellipse at center,
      transparent 0%,
      transparent 60%,
      rgba(232, 225, 213, 0.4) 100%
    );
    pointer-events: none;
  }
}

/* ========================================
   CALIBRATION RING
   ======================================== */

@layer components {
  .calibration-ring {
    position: absolute;
    top: 50%;
    left: 50%;
    width: min(90vw, 600px);
    height: min(90vw, 600px);
    transform: translate(-50%, -50%);
    pointer-events: none;
    z-index: 5;
  }

  .calibration-ring svg {
    width: 100%;
    height: 100%;
  }

  /* Outer ring - main indicator */
  .cal-ring-outer {
    fill: none;
    stroke: var(--color-sand);
    stroke-width: 1;
    opacity: 0.6;
    animation: pulse-glow 4s ease-in-out infinite;
  }

  /* Inner calibration marks */
  .cal-ring-marks {
    fill: none;
    stroke: var(--color-mint);
    stroke-width: 0.5;
    opacity: 0.4;
  }

  /* Active sector indicator */
  .cal-sector {
    fill: none;
    stroke: var(--color-rose-dusty);
    stroke-width: 2;
    stroke-linecap: round;
    opacity: 0;
    transition: opacity var(--transition-smooth);
  }

  /* Degree markers */
  .cal-degree {
    fill: var(--color-text-light);
    font-family: var(--font-mono);
    font-size: 10px;
    opacity: 0.6;
  }

  /* Rotating element */
  .cal-rotator {
    transform-origin: center;
    transition: transform var(--transition-mechanical);
  }
}

/* ========================================
   HUD ELEMENTS
   ======================================== */

@layer components {
  .hud-panel {
    position: absolute;
    padding: 16px 20px;
    background: rgba(249, 246, 241, 0.9);
    border: 1px solid rgba(232, 225, 213, 0.5);
    backdrop-filter: blur(20px);
    z-index: 10;
    pointer-events: none;
    box-shadow: 0 2px 12px rgba(42, 42, 42, 0.04);
  }

  /* Top left - Title and status */
  .hud-panel--top-left {
    top: 24px;
    left: 24px;
    border-left: 2px solid var(--color-rose-dusty);
  }

  /* Top right - Coordinates */
  .hud-panel--top-right {
    top: 24px;
    right: 24px;
    text-align: right;
    border-right: 2px solid var(--color-mint-muted);
  }

  /* Bottom left - Controls hint */
  .hud-panel--bottom-left {
    bottom: 24px;
    left: 24px;
    border-left: 2px solid var(--color-mint);
  }

  /* Bottom right - Frame counter */
  .hud-panel--bottom-right {
    bottom: 24px;
    right: 24px;
    text-align: right;
    border-right: 2px solid var(--color-watermelon);
  }
}

/* ========================================
   TYPOGRAPHY
   ======================================== */

@layer components {
  .hud-title {
    font-family: var(--font-serif);
    font-size: 32px;
    font-weight: 600;
    color: var(--color-text-dark);
    letter-spacing: 0.02em;
    margin-bottom: 4px;
    font-style: italic;
    text-shadow: 0 2px 8px rgba(139, 115, 85, 0.1);
  }

  .hud-subtitle {
    font-family: var(--font-mono);
    font-size: 11px;
    font-weight: 500;
    color: var(--color-rose-dusty);
    text-transform: uppercase;
    letter-spacing: 0.12em;
  }

  .hud-label {
    font-family: var(--font-mono);
    font-size: 10px;
    font-weight: 500;
    color: var(--color-text-light);
    text-transform: uppercase;
    letter-spacing: 0.08em;
    margin-bottom: 2px;
  }

  .hud-value {
    font-family: var(--font-mono);
    font-size: 14px;
    font-weight: 400;
    color: var(--color-text-dark);
    font-variant-numeric: tabular-nums;
  }

  .hud-value--accent {
    color: var(--color-mint-muted);
  }

  .hud-value--warn {
    color: var(--color-watermelon);
  }

  .hud-divider {
    height: 1px;
    background: linear-gradient(
      90deg,
      rgba(212, 207, 196, 0.5) 0%,
      transparent 100%
    );
    margin: 8px 0;
  }

  .hud-divider--right {
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(212, 207, 196, 0.5) 100%
    );
  }
}

/* ========================================
   LOADING STATES
   ======================================== */

@layer components {
  .loading-overlay {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(249, 246, 241, 0.95);
    backdrop-filter: blur(20px);
    z-index: 100;
  }

  .loading-indicator {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
  }

  /* Gentle spinner */
  .loading-spinner {
    width: 48px;
    height: 48px;
    position: relative;
  }

  .loading-spinner::before,
  .loading-spinner::after {
    content: '';
    position: absolute;
    inset: 0;
    border: 2px solid transparent;
    border-radius: 50%;
  }

  .loading-spinner::before {
    border-top-color: var(--color-rose-dusty);
    border-right-color: var(--color-rose-dusty);
    animation: spin-cw 1.5s linear infinite;
  }

  .loading-spinner::after {
    border-bottom-color: var(--color-mint);
    border-left-color: var(--color-mint);
    animation: spin-ccw 2s linear infinite;
  }

  .loading-text {
    font-size: 12px;
    font-weight: 500;
    color: var(--color-text-muted);
    letter-spacing: 0.15em;
    text-transform: uppercase;
  }

  .loading-text::after {
    content: '';
    animation: loading-dots 1.5s steps(3, end) infinite;
  }
}

/* ========================================
   ANIMATIONS
   ======================================== */

@keyframes spin-cw {
  to {
    transform: rotate(360deg);
  }
}

@keyframes spin-ccw {
  to {
    transform: rotate(-360deg);
  }
}

@keyframes loading-dots {
  0%,
  20% {
    content: '.';
  }
  40% {
    content: '..';
  }
  60%,
  100% {
    content: '...';
  }
}

@keyframes pulse-glow {
  0%,
  100% {
    opacity: 0.5;
  }
  50% {
    opacity: 0.7;
  }
}

/* ========================================
   RESPONSIVE
   ======================================== */

@media (max-width: 768px) {
  :root {
    --spacing-unit: 6px;
  }

  .hud-panel {
    padding: 10px 12px;
  }

  .hud-panel--top-left,
  .hud-panel--top-right {
    top: 16px;
  }

  .hud-panel--bottom-left,
  .hud-panel--bottom-right {
    bottom: 16px;
  }

  .hud-title {
    font-size: 22px;
  }

  .hud-value {
    font-size: 13px;
  }
}

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {
  .calibration-ring {
    opacity: 0.6;
  }
}
